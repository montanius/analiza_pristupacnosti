<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Naslov dokumenta  </title>
    <style>
.greska {
color: red;
}    </style>
</head>
<body>
    <!-- > LUKA: Moraćemo da prevedemo cijeli sajt. Luka će obezbijediti prevode, a Goran će implementirati logiku -->
    <header>
        <div class="container">
            <h1 id="glavniNaslov" role="alert">glavniNaslov  </h1>
            <nav>
                <ul>
<li>
    <label for="jezik"> Odabir Jezika </label>
                    <select id="jezik">
                        <option value="crnogorski"> crnogorski </option>
                        <option value="english"> English  </option>
                        </select>  
                    </li>                   
                    <li><a href="#about"> <span id="navigacijaStavkaJedan"> O nama </span> </a></li>                    
                    <li><a href="#services"> <span id="navigacijaStavkaDva"> Usluge </span> </a></li>
                    <li><a href="#contact"> <span id="navigacijaStavkaTri"> Kontakt </span> </a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="about">
            <div class="container">
                <h2 id="naslovJedan">O nama</h2>
                <p id="naslovJedanPasusJedan">Dobrodošli na našu stranicu posvećenu analizi web pristupačnosti za osobe s invaliditetom.</p>
                <!-- Ostatak sadržaja o "O nama" sekciji -->
            </div>
        </section>

        <section id="services">
            <div class="container">
                <h2 id="naslovDva">Naše usluge</h2>
                <p id="naslovDvaPasusJedan">Ovdje su naše usluge koje pružamo za analizu web pristupačnosti:</p>
                <!-- Popis usluga -->
            </div>

            <h3 id="naslovDvaJedan"> Prijavi problem sa pristupačnošću </h3>
<form id="formaPrijava">
    <label for="ime" id="formaPrijavaInputIme"> Ime </label>
    <input type="text" name="ime" id="ime" ><br>
    <p class="greska" id="formaPrijavaInputImeGreska" style="display: none;"> </p>
    <label for="mail" id="formaPrijavaInputEmail" > Email </label>
<input type="text" name="mail" id="mail" ><br>
<p class="greska" id="formaPrijavaInputEmailGreska" style="display: none;"> </p>
<label for="url" id="formaPrijavaInputUrl" >  WEB site </label>
<input type="text" name="url" id="url" ><br>
<p class="greska" id="formaPrijavaInputUrlGreska" style="display: none;"> </p>
<label for="problem" id="formaPrijavaInputProblem" > Opis problema </label>
<input type="text" name="problem" id="problem" ><br>
<p class="greska" id="formaPrijavaInputProblemGreska" style="display: none;"> </p>
<label for="file" id="formaPrijavaInputFile" > Dodaj file </label>
<input type="file" name="file" id="file"><br>
<input type="submit" id="formaPrijavaInputSubmit" value="Prijavi problem">
</form>
<p id="uspjesnaPrijava" style="display: none;" role="alert">  </p>
        </section>

        <section id="contact">
            <div class="container">
                <h2 id="naslovTri">Kontakt</h2>
                <p id="naslovTriPasusJedan" >Za više informacija ili za dogovor termina za analizu, kontaktirajte nas putem:</p>
<a href="tel:+38267343537"> <spa id="telefon">  </span> </a> <br>
<a href="mailto:info@axessibility.com"> <span id="kontaktMail"> </span> </a> <br>
<a href="https://www.facebook.com"><spa id="kontaktFacebook"></span>  </a> <br>
<a href="https://www.instagram.com"> <span id="kontaktInstagram"></span> </a>
</div>
        </section>

        <div class="container">
            
                 
            </div><div></div>
        </div>
            </main>

    <footer>
        <div class="container">
            <p id="footerPasusJedan" >&copy; 2024 Analiza Web Pristupačnosti. Sva prava pridržana.</p>
            </div>
    </footer>

<script> 
let jezik = document.getElementById("jezik");
let formaPrijava = document.getElementById("formaPrijava");
let inputIme = document.getElementById("ime");
let formaPrijavaInputImeGreska = document.getElementById("formaPrijavaInputImeGreska");
let inputEmail = document.getElementById("mail");
let formaPrijavaInputEmailGreska = document.getElementById("formaPrijavaInputEmailGreska");
let inputUrl = document.getElementById("url");
let formaPrijavaInputUrlGreska = document.getElementById("formaPrijavaInputUrlGreska");
let inputProblem = document.getElementById("formaPrijavaInputProblem");
let formaPrijavaInputProblemGreska = document.getElementById("formaPrijavaInputProblemGreska");
let formaPrijavaInputSubmit = document.getElementById("formaPrijavaInputSubmit");
let uspjesnaPrijava = document.getElementById("uspjesnaPrijava");
let poruke = {};

function postaviJezik(odabraniJezik){
if(odabraniJezik === "crnogorski"){
        fetch("cg.json").then((odgovor) => odgovor.json()) .then((prevodi) => { 
            poruke = prevodi;
            podesiPrevode(  ); });
}else{
    fetch("en.json").then((odgovor) => odgovor.json()) .then((prevodi) => { 
        poruke = prevodi;
        podesiPrevode(); });
}
}

function podesiPrevode(){
    let idNizElemenataZaPrevod = ["naslovDokumenta", "glavniNaslov", "navigacijaStavkaJedan", "navigacijaStavkaDva", "navigacijaStavkaTri", "naslovJedan", "naslovJedanPasusJedan", "naslovDva", "naslovDvaPasusJedan", "naslovDvaJedan", "formaPrijavaInputIme", "formaPrijavaInputEmail", "formaPrijavaInputUrl", "formaPrijavaInputProblem", "formaPrijavaInputFile", "formaPrijavaInputSubmit",  "uspjesnaPrijava", "naslovTri", "naslovTriPasusJedan", "telefon", "kontaktMail", "kontaktFacebook", "kontaktInstagram", "footerPasusJedan"];
document.title = poruke["naslovDokumenta"];
formaPrijavaInputSubmit.value = poruke["formaPrijavaInputSubmit"];
idNizElemenataZaPrevod.forEach(id => { let element = document.getElementById(id);
if(element){
element.textContent = poruke[id]
}
});
}


function izmjenaJezika(){
    let odabraniJezik = jezik.value;
localStorage.setItem("poslednjiOdabraniJezik", odabraniJezik);
postaviJezik(odabraniJezik);
} 
let poslednjiOdabraniJezik = localStorage.getItem("poslednjiOdabraniJezik");
if(poslednjiOdabraniJezik){
jezik.value = poslednjiOdabraniJezik;
}
postaviJezik(poslednjiOdabraniJezik);

jezik.addEventListener("change", izmjenaJezika);

const validirajIme = () => {
    let inputImeVrijednost = inputIme.value;
    let regexIme = /^[a-zA-Z]+$/;
    if(!inputImeVrijednost){
    formaPrijavaInputImeGreska.textContent = poruke["formaPrijavaInputImeObavezno"];  
    formaPrijavaInputImeGreska.style.display = "block";
    return false;
}    
else if(inputImeVrijednost.length > 100){
formaPrijavaInputImeGreska.textContent = poruke["formaPrijavaInputImeKarakteri"];
formaPrijavaInputImeGreska.style.display = "block";
return false;
}
else if(!regexIme.test(inputImeVrijednost)){
formaPrijavaInputImeGreska.textContent = poruke["formaPrijavaInputImeDozvoljeniZnaci"];
formaPrijavaInputImeGreska.style.display = "block";
return false;
}
else {
        formaPrijavaInputImeGreska.style.display = "none";
                        return true;
}
}    ;
            inputIme.addEventListener("input", validirajIme);

            const validirajEmail = () => {
let inputEmailVrijednost = inputEmail.value;
let regexEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
if(!inputEmailVrijednost){
formaPrijavaInputEmailGreska.textContent = poruke["formaPrijavaInputEmailObavezno"];
formaPrijavaInputEmailGreska.style.display = "block";
return false;
}
else if(!regexEmail.test(inputEmailVrijednost)){
formaPrijavaInputEmailGreska.textContent = poruke["formaPrijavaInputEmailDozvoljeniZnaci"];
formaPrijavaInputEmailGreska.style.display = "block";
return false;
}
else{
formaPrijavaInputEmailGreska.style.display = "none";
return true;
}
            };
inputEmail.addEventListener("input", validirajEmail);
            
const validirajUrl = () => {
let inputUrlVrijednost = inputUrl.value;
let regexUrl = /^(https?:\/\/)?([^\s.$?#].[^\s]*)$/i;
if(!inputUrlVrijednost){
formaPrijavaInputUrlGreska.textContent = poruke["formaPrijavaInputUrlObavezno"];
formaPrijavaInputUrlGreska.style.display = "block";
return false;
}
else if(!regexUrl.test(inputUrlVrijednost)){
formaPrijavaInputUrlGreska.textContent = poruke["formaPrijavaInputUrlDozvoljeniZnaci"];
formaPrijavaInputUrlGreska.style.display = "block";
return false;
}
else{
formaPrijavaInputUrlGreska.style.display = "none";
return true;
}
};
inputUrl.addEventListener("input", validirajUrl);

const validirajProblem = () => {
let inputProblemVrijednost = inputProblem.value;
if(!inputProblemVrijednost){
formaPrijavaInputProblemGreska.textContent = poruke["formaPrijavaInputProblemObavezno"];
formaPrijavaInputProblemGreska.style.display = "block";
return false;
}
else{
formaPrijavaInputProblemGreska.style.display = "none";
return true;
}
}
inputProblem.addEventListener("input", validirajProblem);

formaPrijava.addEventListener("submit", function(event){
    event.preventDefault();
    if (validirajIme()  && validirajEmail() && validirajUrl() && validirajProblem()) {
        formaPrijava.style.display = "none";
                uspjesnaPrijava.style.display = "block";
    }
});

     </script>

</body>
</html>